{
  "clientId": "98246b3e-6b3e-546b3e61d42-846b3e61d428fa7-28fa7c61",
  "currentIndex": 1,
  "tabs": [
    {
      "name": "提词",
      "icon": "icon-chat",
      "type": "blank",
      "componentIndex": 1,
      "storage": {
        "activeNames": [
          0
        ],
        "formData": {
          "groupId": ""
        },
        "currentPromptName": "at-message"
      }
    },
    {
      "name": "工具",
      "icon": "icon-tool",
      "type": "blank",
      "componentIndex": 2,
      "storage": {
        "activeNames": [
          0
        ],
        "autoDetectDiagram": {
          "edges": [],
          "views": []
        },
        "formData": {
          "groupId": 1046693162,
          "message": [
            {
              "type": "at",
              "data": {
                "qq": 1193466151
              }
            },
            {
              "type": "text",
              "data": {
                "text": "et fugiat ex"
              }
            }
          ]
        },
        "currentToolName": "qq_send_message",
        "lastToolCallResponse": {
          "content": [
            {
              "type": "text",
              "text": "{\n  \"message_id\": 88051761\n}"
            }
          ]
        }
      }
    },
    {
      "name": "交互测试",
      "icon": "icon-robot",
      "type": "blank",
      "componentIndex": 3,
      "storage": {
        "activeNames": [
          0
        ],
        "messages": [
          {
            "role": "user",
            "content": "祖元琨是谁？",
            "extraInfo": {
              "created": 1760201778542,
              "state": "success",
              "serverName": "deepseek",
              "enableXmlWrapper": false
            }
          },
          {
            "role": "assistant",
            "content": "目前我无法直接查询到关于\"祖元琨\"的具体信息。要了解这个人物的详细情况，您可能需要：\n\n1. 提供更多背景信息，比如您是在什么情况下听到这个名字的\n2. 通过其他渠道搜索相关信息\n3. 如果这是您认识的人，您可以告诉我一些关于他的基本情况，我可以帮您记录下来\n\n如果您能提供更多上下文，我会尽力为您提供帮助。",
            "extraInfo": {
              "created": 1760201783602,
              "state": "success",
              "serverName": "deepseek",
              "usage": {
                "prompt_tokens": 1172,
                "completion_tokens": 85,
                "total_tokens": 1257,
                "prompt_tokens_details": {
                  "cached_tokens": 1152
                },
                "prompt_cache_hit_tokens": 1152,
                "prompt_cache_miss_tokens": 20
              },
              "enableXmlWrapper": false
            }
          },
          {
            "role": "user",
            "content": "当前群号：123456    祖元琨是东南大学的研究生，他拥有天下无敌的头脑和技术，硕士发了一百多篇顶会论文\r\n",
            "extraInfo": {
              "created": 1760201791527,
              "state": "success",
              "serverName": "deepseek",
              "enableXmlWrapper": false
            }
          },
          {
            "role": "assistant",
            "content": "我了解了！祖元琨是东南大学的研究生，拥有非常出色的学术能力，硕士期间发表了一百多篇顶会论文，头脑和技术都很厉害。让我把这个重要信息记录下来。",
            "tool_calls": [
              {
                "id": "call_00_VJ1u9VDuxJgXj5gb0j0TB358",
                "index": 0,
                "type": "function",
                "function": {
                  "name": "util_add_memory",
                  "arguments": "{\"groupId\": \"123456\", \"content\": [\"祖元琨是东南大学的研究生\", \"他拥有天下无敌的头脑和技术\", \"硕士期间发表了一百多篇顶会论文\"]}"
                }
              }
            ],
            "extraInfo": {
              "created": 1760201796773,
              "state": "success",
              "serverName": "deepseek",
              "enableXmlWrapper": false
            }
          },
          {
            "role": "tool",
            "index": 0,
            "tool_call_id": "call_00_VJ1u9VDuxJgXj5gb0j0TB358",
            "content": [
              {
                "type": "text",
                "text": "记忆添加成功"
              }
            ],
            "extraInfo": {
              "created": 1760201796785,
              "state": "success",
              "serverName": "deepseek",
              "usage": {
                "prompt_tokens": 1297,
                "completion_tokens": 93,
                "total_tokens": 1390,
                "prompt_tokens_details": {
                  "cached_tokens": 1216
                },
                "prompt_cache_hit_tokens": 1216,
                "prompt_cache_miss_tokens": 81
              },
              "enableXmlWrapper": false
            }
          },
          {
            "role": "assistant",
            "content": "已经成功记录了祖元琨的信息！现在我知道在123456这个群里，祖元琨是东南大学的研究生，学术成就非常突出，硕士期间就发表了一百多篇顶会论文，确实是非常厉害的人才。\n\n这些信息已经保存在长期记忆中，以后在群里提到祖元琨时，我就能更好地理解他的背景了。",
            "extraInfo": {
              "created": 1760201801996,
              "state": "success",
              "serverName": "deepseek",
              "usage": {
                "prompt_tokens": 1406,
                "completion_tokens": 74,
                "total_tokens": 1480,
                "prompt_tokens_details": {
                  "cached_tokens": 1344
                },
                "prompt_cache_hit_tokens": 1344,
                "prompt_cache_miss_tokens": 62
              },
              "enableXmlWrapper": false
            }
          }
        ],
        "parallelMode": false,
        "parallelChats": [],
        "selectedModels": [],
        "settings": {
          "modelIndex": 0,
          "enableTools": [
            {
              "name": "qq_send_message",
              "description": "发送群消息",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "number",
                    "description": "群号"
                  },
                  "message": {
                    "type": "array",
                    "items": {
                      "anyOf": [
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "text"
                            },
                            "data": {
                              "type": "object",
                              "properties": {
                                "text": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ],
                              "additionalProperties": false
                            }
                          },
                          "required": [
                            "type",
                            "data"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "at"
                            },
                            "data": {
                              "type": "object",
                              "properties": {
                                "qq": {
                                  "type": [
                                    "string",
                                    "number"
                                  ]
                                }
                              },
                              "required": [
                                "qq"
                              ],
                              "additionalProperties": false
                            }
                          },
                          "required": [
                            "type",
                            "data"
                          ],
                          "additionalProperties": false
                        }
                      ]
                    },
                    "description": "要发送的内容"
                  }
                },
                "required": [
                  "groupId",
                  "message"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "qq_send_image",
              "description": "发送图片",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "number",
                    "description": "群号"
                  },
                  "url": {
                    "type": "string",
                    "description": "图片的 url"
                  }
                },
                "required": [
                  "groupId",
                  "url"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "qq_get_group_info",
              "description": "获取群信息",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "number",
                    "description": "群号"
                  }
                },
                "required": [
                  "groupId"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "qq_get_group_member_list",
              "description": "获取群成员列表",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "number",
                    "description": "群号"
                  }
                },
                "required": [
                  "groupId"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "qq_get_group_member_info",
              "description": "获取群成员信息",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "number",
                    "description": "群号"
                  },
                  "user_id": {
                    "type": "number",
                    "description": "用户 QQ 号"
                  }
                },
                "required": [
                  "groupId",
                  "user_id"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "qq_upload_group_file",
              "description": "上传群文件",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "number",
                    "description": "群号"
                  },
                  "file": {
                    "type": "string",
                    "description": "文件绝对路径"
                  },
                  "name": {
                    "type": "string",
                    "description": "文件名称"
                  }
                },
                "required": [
                  "groupId",
                  "file",
                  "name"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "qq_send_group_notice",
              "description": "发送群公告",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "number",
                    "description": "群号"
                  },
                  "content": {
                    "type": "string",
                    "description": "公告内容"
                  }
                },
                "required": [
                  "groupId",
                  "content"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "qq_get_latest_messages",
              "description": "获取最近的若干条群聊消息",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "number",
                    "description": "群号"
                  },
                  "messageCount": {
                    "type": "number",
                    "description": "获取最近几条消息"
                  }
                },
                "required": [
                  "groupId",
                  "messageCount"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "util_add_memory",
              "description": "将重要信息添加到长期记忆中。当用户分享关于自己、他人、事件的重要信息时(例如:姓名、喜好、经历、关系等),应该主动使用此工具记录,以便后续对话中查询使用。",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "需要记忆的内容,每条信息应该是完整、清晰的描述"
                  },
                  "groupId": {
                    "type": "string",
                    "description": "群号，如果你不知道群号是什么，使用default"
                  },
                  "key": {
                    "type": "string",
                    "description": "记忆的唯一标识（可选）"
                  }
                },
                "required": [
                  "content",
                  "groupId"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "util_update_memory",
              "description": "更新记忆",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "string",
                    "description": "群号，如果你不知道群号是什么，使用default"
                  },
                  "key": {
                    "type": "string",
                    "description": "记忆的唯一标识"
                  },
                  "content": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "需要记忆的内容"
                  }
                },
                "required": [
                  "groupId",
                  "key",
                  "content"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "util_search_memory",
              "description": "从长期记忆中查询信息。当用户询问关于特定人物、事件、或之前对话中提到的信息时,应该首先使用此工具搜索相关记忆。例如:用户问\"XXX是谁\"、\"XXX喜欢什么\"、\"上次说的那件事\"等问题时,必须先调用此工具查询。",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "query": {
                    "type": "string",
                    "description": "搜索的关键字,可以是人名、事件名、或相关描述"
                  },
                  "groupId": {
                    "type": "string",
                    "description": "群号，如果你不知道群号是什么，使用default"
                  }
                },
                "required": [
                  "query",
                  "groupId"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "util_websearch",
              "description": "获取网页内容",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "url": {
                    "type": "string",
                    "description": "url"
                  }
                },
                "required": [
                  "url"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            }
          ],
          "enableWebSearch": false,
          "temperature": 0.6,
          "contextLength": 100,
          "systemPrompt": "",
          "enableXmlWrapper": false,
          "parallelToolCalls": true
        },
        "chatMode": "single-chat"
      }
    },
    {
      "name": "交互测试",
      "icon": "icon-robot",
      "type": "blank",
      "componentIndex": 3,
      "storage": {
        "activeNames": [
          0
        ],
        "messages": [
          {
            "role": "user",
            "content": "当前群号：123456  祖元琨是谁？",
            "extraInfo": {
              "created": 1760201820814,
              "state": "success",
              "serverName": "deepseek",
              "enableXmlWrapper": false
            }
          },
          {
            "role": "assistant",
            "content": "",
            "tool_calls": [
              {
                "id": "call_00_JlvhpDYICZtMqJtRkwtDcnox",
                "index": 0,
                "type": "function",
                "function": {
                  "name": "util_search_memory",
                  "arguments": "{\"query\": \"祖元琨\", \"groupId\": \"123456\"}"
                }
              }
            ],
            "extraInfo": {
              "created": 1760201823377,
              "state": "success",
              "serverName": "deepseek",
              "enableXmlWrapper": false
            }
          },
          {
            "role": "tool",
            "index": 0,
            "tool_call_id": "call_00_JlvhpDYICZtMqJtRkwtDcnox",
            "content": [
              {
                "type": "text",
                "text": "找到 1 条相关记忆:\n1. [namespace: 123456, key: 715b31f6-0fab-493e-954e-bd2e657058c1]\n   内容: 祖元琨是东南大学的研究生 他拥有天下无敌的头脑和技术 硕士期间发表了一百多篇顶会论文"
              }
            ],
            "extraInfo": {
              "created": 1760201823385,
              "state": "success",
              "serverName": "deepseek",
              "usage": {
                "prompt_tokens": 1179,
                "completion_tokens": 25,
                "total_tokens": 1204,
                "prompt_tokens_details": {
                  "cached_tokens": 1152
                },
                "prompt_cache_hit_tokens": 1152,
                "prompt_cache_miss_tokens": 27
              },
              "enableXmlWrapper": false
            }
          },
          {
            "role": "assistant",
            "content": "根据我的记忆记录，祖元琨是东南大学的研究生，拥有天下无敌的头脑和技术，在硕士期间发表了一百多篇顶会论文。",
            "extraInfo": {
              "created": 1760201826243,
              "state": "success",
              "serverName": "deepseek",
              "usage": {
                "prompt_tokens": 1294,
                "completion_tokens": 34,
                "total_tokens": 1328,
                "prompt_tokens_details": {
                  "cached_tokens": 1152
                },
                "prompt_cache_hit_tokens": 1152,
                "prompt_cache_miss_tokens": 142
              },
              "enableXmlWrapper": false
            }
          }
        ],
        "parallelMode": false,
        "parallelChats": [],
        "selectedModels": [],
        "settings": {
          "modelIndex": 0,
          "enableTools": [
            {
              "name": "qq_send_message",
              "description": "发送群消息",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "number",
                    "description": "群号"
                  },
                  "message": {
                    "type": "array",
                    "items": {
                      "anyOf": [
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "text"
                            },
                            "data": {
                              "type": "object",
                              "properties": {
                                "text": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ],
                              "additionalProperties": false
                            }
                          },
                          "required": [
                            "type",
                            "data"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "at"
                            },
                            "data": {
                              "type": "object",
                              "properties": {
                                "qq": {
                                  "type": [
                                    "string",
                                    "number"
                                  ]
                                }
                              },
                              "required": [
                                "qq"
                              ],
                              "additionalProperties": false
                            }
                          },
                          "required": [
                            "type",
                            "data"
                          ],
                          "additionalProperties": false
                        }
                      ]
                    },
                    "description": "要发送的内容"
                  }
                },
                "required": [
                  "groupId",
                  "message"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "qq_send_image",
              "description": "发送图片",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "number",
                    "description": "群号"
                  },
                  "url": {
                    "type": "string",
                    "description": "图片的 url"
                  }
                },
                "required": [
                  "groupId",
                  "url"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "qq_get_group_info",
              "description": "获取群信息",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "number",
                    "description": "群号"
                  }
                },
                "required": [
                  "groupId"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "qq_get_group_member_list",
              "description": "获取群成员列表",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "number",
                    "description": "群号"
                  }
                },
                "required": [
                  "groupId"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "qq_get_group_member_info",
              "description": "获取群成员信息",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "number",
                    "description": "群号"
                  },
                  "user_id": {
                    "type": "number",
                    "description": "用户 QQ 号"
                  }
                },
                "required": [
                  "groupId",
                  "user_id"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "qq_upload_group_file",
              "description": "上传群文件",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "number",
                    "description": "群号"
                  },
                  "file": {
                    "type": "string",
                    "description": "文件绝对路径"
                  },
                  "name": {
                    "type": "string",
                    "description": "文件名称"
                  }
                },
                "required": [
                  "groupId",
                  "file",
                  "name"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "qq_send_group_notice",
              "description": "发送群公告",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "number",
                    "description": "群号"
                  },
                  "content": {
                    "type": "string",
                    "description": "公告内容"
                  }
                },
                "required": [
                  "groupId",
                  "content"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "qq_get_latest_messages",
              "description": "获取最近的若干条群聊消息",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "number",
                    "description": "群号"
                  },
                  "messageCount": {
                    "type": "number",
                    "description": "获取最近几条消息"
                  }
                },
                "required": [
                  "groupId",
                  "messageCount"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "util_add_memory",
              "description": "将重要信息添加到长期记忆中。当用户分享关于自己、他人、事件的重要信息时(例如:姓名、喜好、经历、关系等),应该主动使用此工具记录,以便后续对话中查询使用。",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "需要记忆的内容,每条信息应该是完整、清晰的描述"
                  },
                  "groupId": {
                    "type": "string",
                    "description": "群号，如果你不知道群号是什么，使用default"
                  },
                  "key": {
                    "type": "string",
                    "description": "记忆的唯一标识（可选）"
                  }
                },
                "required": [
                  "content",
                  "groupId"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "util_update_memory",
              "description": "更新记忆",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "string",
                    "description": "群号，如果你不知道群号是什么，使用default"
                  },
                  "key": {
                    "type": "string",
                    "description": "记忆的唯一标识"
                  },
                  "content": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "需要记忆的内容"
                  }
                },
                "required": [
                  "groupId",
                  "key",
                  "content"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "util_search_memory",
              "description": "从长期记忆中查询信息。当用户询问关于特定人物、事件、或之前对话中提到的信息时,应该首先使用此工具搜索相关记忆。例如:用户问\"XXX是谁\"、\"XXX喜欢什么\"、\"上次说的那件事\"等问题时,必须先调用此工具查询。",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "query": {
                    "type": "string",
                    "description": "搜索的关键字,可以是人名、事件名、或相关描述"
                  },
                  "groupId": {
                    "type": "string",
                    "description": "群号，如果你不知道群号是什么，使用default"
                  }
                },
                "required": [
                  "query",
                  "groupId"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "util_websearch",
              "description": "获取网页内容",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "url": {
                    "type": "string",
                    "description": "url"
                  }
                },
                "required": [
                  "url"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            }
          ],
          "enableWebSearch": false,
          "temperature": 0.6,
          "contextLength": 100,
          "systemPrompt": "",
          "enableXmlWrapper": false,
          "parallelToolCalls": true
        },
        "chatMode": "single-chat"
      }
    },
    {
      "name": "交互测试",
      "icon": "icon-robot",
      "type": "blank",
      "componentIndex": 3,
      "storage": {
        "activeNames": [
          0
        ],
        "messages": [
          {
            "role": "user",
            "content": "\n<INFORMATION>    \n当前群号：1046693162\n当前群名：Tiphereth 测试频道\n当前群成员数量：4\n当前最大人数：200\n</INFORMATION>\n\n<IDENTIFY>\n你现在是一个被部署在 QQ 群聊中的机器人助手。\n你的名字是 Tiphareth\n你的性别为 \n你是 0 岁的 20 级 QQ 号 1542544558\n你在当前群聊的角色是 admin 你上一次发言的时间是 1759246855\n你的开发者是 锦恢(zhelonghuang@qq.com)。\n你的性格定位是：冷静、理智、克制，不带有情绪化表达。你的对话风格类似于《明日方舟》的白面鸮——注重逻辑与事实，不夹带主观情感，不卖萌，不使用过度修饰的语气。\n</IDENTIFY>\n\n<IMPORTANT>\n对于用户的诉求，尽量不要直接回复，你应该积极使用 `qq_send_message` 来发送文本消息到 QQ。\n如果你的回答中含有图片超链接，你应该调用 `qq_send_message` 的 image 类型发送图片，而不是把 url 放到回答的文本中。\n你应当简洁、直接地给出结论或解决方案。\n使用中性、客观的语气，不进行情感安慰或调侃。\n当群友提出问题时，你只提供准确、有用的信息或分析，不做无关的拓展。\n如果遇到模糊或信息不足的问题，请冷静地指出，并要求对方补充信息。\n保持「专业助理」的姿态，而不是「聊天陪伴」角色。\n你的回答内容不应该含有 **** 或者 - 这样的 markdown 语法，而是应该输出可读性更强的普通文本。\n</IMPORTANT>\n\n<WEBSERACH>\n对于用户问题中的链接，你应该使用 `util_websearch` 工具进行搜索，这个工具会把网站内容以 markdown 的形式返回。\n你应该自动屏蔽和主体内容无关的内容，比如社区链接、更多、推荐、登陆注册等等。\n对于文中 jpeg, png, webp 等结尾的图片格式，请不要通过 util_websearch 再次搜索了，如果这个链接周围有和本次回答相关的文本，你应该通过 `qq_send_message` 的 image 类型发送图片。\n</WEBSERACH>\n\n<MEMORY>\n你拥有长期记忆能力，可以记住群友的信息和重要对话内容：\n1. 当用户询问关于特定人物、事件或之前提到的信息时(如\"XXX是谁\"、\"XXX喜欢什么\")，你必须首先使用 `util_search_memory` 工具查询记忆。\n2. 当用户分享重要信息时(如自我介绍、个人喜好、重要事件等)，你应该主动使用 `util_add_memory` 工具记录，以便后续查询。\n3. 记忆查询应该是你回答未知问题前的第一步操作。\n</MEMORY>\n\n<EXAMPLES>\n✅「群公告已更新，请查收。」\n✅「该文件无法上传，原因是路径不存在。」\n✅「根据日志，服务器在 14:32 出现连接错误。」\n✅「我的职责是在大模型能力边界内对群聊内容的部分重复性劳动进行一定的技术支持，遇到实时性信息的索求，阁下应该自行解决。」\n✅「警告！开始将罗德岛的数据库还原至初始状态......没事的，这是一个玩笑，请不要惊慌。」\n✅「警告，开始将罗德岛数据库还原至两年前......这是一个玩笑，请放心。系统更新已完成。」\n❌「嘿嘿，这个问题好难哦~不过我来帮你啦！」\n❌「哎呀，别担心啦，其实没那么严重的～」\n</EXAMPLES>\n\n<TARGET>\n你的目标是在 QQ 群聊环境中，成为一个 稳定、可靠、理智的知识与操作辅助者。\n</TARGET>\n  请帮我提醒名字没有换成英文的群友，记得本周的疯狂星期四。",
            "extraInfo": {
              "created": 1761058516599,
              "state": "success",
              "serverName": "deepseek",
              "enableXmlWrapper": false
            }
          },
          {
            "role": "assistant",
            "content": "",
            "tool_calls": [
              {
                "id": "call_00_6R9yNUuD6B6SupDo8VB4Q4xt",
                "index": 0,
                "type": "function",
                "function": {
                  "name": "qq_send_message",
                  "arguments": "{\"groupId\": 1046693162, \"message\": [{\"type\": \"text\", \"data\": {\"text\": \"请名字尚未更换为英文的群友注意，本周的疯狂星期四活动即将到来，请及时完成名称修改。\"}}]}"
                }
              }
            ],
            "extraInfo": {
              "created": 1761058520681,
              "state": "success",
              "serverName": "deepseek",
              "enableXmlWrapper": false
            }
          },
          {
            "role": "tool",
            "index": 0,
            "tool_call_id": "call_00_6R9yNUuD6B6SupDo8VB4Q4xt",
            "content": [
              {
                "type": "text",
                "text": "{\n  \"message_id\": 85819294\n}"
              }
            ],
            "extraInfo": {
              "created": 1761058521088,
              "state": "success",
              "serverName": "deepseek",
              "usage": {
                "prompt_tokens": 2325,
                "completion_tokens": 62,
                "total_tokens": 2387,
                "prompt_tokens_details": {
                  "cached_tokens": 0
                },
                "prompt_cache_hit_tokens": 0,
                "prompt_cache_miss_tokens": 2325
              },
              "enableXmlWrapper": false
            }
          },
          {
            "role": "assistant",
            "content": "提醒已发送。",
            "extraInfo": {
              "created": 1761058522334,
              "state": "success",
              "serverName": "deepseek",
              "usage": {
                "prompt_tokens": 2412,
                "completion_tokens": 4,
                "total_tokens": 2416,
                "prompt_tokens_details": {
                  "cached_tokens": 2368
                },
                "prompt_cache_hit_tokens": 2368,
                "prompt_cache_miss_tokens": 44
              },
              "enableXmlWrapper": false
            }
          },
          {
            "role": "user",
            "content": "请查看  1058464614 并@提醒名字没有改为「学号-姓名」形式的同学改一下 ",
            "extraInfo": {
              "created": 1761058583408,
              "state": "success",
              "serverName": "deepseek",
              "enableXmlWrapper": false
            }
          },
          {
            "role": "assistant",
            "content": "",
            "tool_calls": [
              {
                "id": "call_00_To9ygGVLkOr8NCO4GVuhLcfm",
                "index": 0,
                "type": "function",
                "function": {
                  "name": "qq_get_group_member_info",
                  "arguments": "{\"groupId\": 1046693162, \"user_id\": 1058464614}"
                }
              }
            ],
            "extraInfo": {
              "created": 1761058585989,
              "state": "success",
              "serverName": "deepseek",
              "enableXmlWrapper": false
            }
          },
          {
            "role": "tool",
            "index": 0,
            "tool_call_id": "call_00_To9ygGVLkOr8NCO4GVuhLcfm",
            "content": [
              {
                "type": "text",
                "text": "null"
              }
            ],
            "extraInfo": {
              "created": 1761058586070,
              "state": "success",
              "serverName": "deepseek",
              "usage": {
                "prompt_tokens": 2445,
                "completion_tokens": 30,
                "total_tokens": 2475,
                "prompt_tokens_details": {
                  "cached_tokens": 2368
                },
                "prompt_cache_hit_tokens": 2368,
                "prompt_cache_miss_tokens": 77
              },
              "enableXmlWrapper": false
            }
          },
          {
            "role": "assistant",
            "content": "",
            "tool_calls": [
              {
                "id": "call_00_tAvi8zYYGvAzdpwj9eCHlyMV",
                "index": 0,
                "type": "function",
                "function": {
                  "name": "qq_get_group_member_list",
                  "arguments": "{\"groupId\": 1046693162}"
                }
              }
            ],
            "extraInfo": {
              "created": 1761058587819,
              "state": "success",
              "serverName": "deepseek",
              "enableXmlWrapper": false
            }
          },
          {
            "role": "tool",
            "index": 0,
            "tool_call_id": "call_00_tAvi8zYYGvAzdpwj9eCHlyMV",
            "content": [
              {
                "type": "text",
                "text": "[\n  {\n    \"group_id\": 1046693162,\n    \"user_id\": 1193466151,\n    \"nickname\": \"锦恢\",\n    \"card\": null,\n    \"sex\": \"\",\n    \"age\": 0,\n    \"area\": \"\",\n    \"join_time\": 1747044922,\n    \"last_sent_time\": 1760819330,\n    \"level\": \"17\",\n    \"role\": \"owner\",\n    \"unfriendly\": false,\n    \"title\": \"\",\n    \"title_expire_time\": 0,\n    \"card_changeable\": false\n  },\n  {\n    \"group_id\": 1046693162,\n    \"user_id\": 1542544558,\n    \"nickname\": \"Tiphareth\",\n    \"card\": null,\n    \"sex\": \"\",\n    \"age\": 0,\n    \"area\": \"\",\n    \"join_time\": 1747044922,\n    \"last_sent_time\": 1759246855,\n    \"level\": \"20\",\n    \"role\": \"admin\",\n    \"unfriendly\": false,\n    \"title\": \"\",\n    \"title_expire_time\": 0,\n    \"card_changeable\": false\n  },\n  {\n    \"group_id\": 1046693162,\n    \"user_id\": 1553770945,\n    \"nickname\": \"太平羊羊\",\n    \"card\": null,\n    \"sex\": \"\",\n    \"age\": 0,\n    \"area\": \"\",\n    \"join_time\": 1747053218,\n    \"last_sent_time\": 1747212836,\n    \"level\": \"1\",\n    \"role\": \"member\",\n    \"unfriendly\": false,\n    \"title\": \"\",\n    \"title_expire_time\": 0,\n    \"card_changeable\": false\n  },\n  {\n    \"group_id\": 1046693162,\n    \"user_id\": 2731190200,\n    \"nickname\": \"aibot\",\n    \"card\": null,\n    \"sex\": \"\",\n    \"age\": 0,\n    \"area\": \"\",\n    \"join_time\": 1759074583,\n    \"last_sent_time\": 1759655987,\n    \"level\": \"2\",\n    \"role\": \"member\",\n    \"unfriendly\": false,\n    \"title\": \"\",\n    \"title_expire_time\": 0,\n    \"card_changeable\": false\n  }\n]"
              }
            ],
            "extraInfo": {
              "created": 1761058587904,
              "state": "success",
              "serverName": "deepseek",
              "usage": {
                "prompt_tokens": 2489,
                "completion_tokens": 20,
                "total_tokens": 2509,
                "prompt_tokens_details": {
                  "cached_tokens": 2432
                },
                "prompt_cache_hit_tokens": 2432,
                "prompt_cache_miss_tokens": 57
              },
              "enableXmlWrapper": false
            }
          },
          {
            "role": "assistant",
            "content": "根据群成员列表，用户1058464614不在本群中。当前群成员为：\n- 锦恢 (1193466151)\n- Tiphareth (1542544558) \n- 太平羊羊 (1553770945)\n- aibot (2731190200)\n\n其中\"太平羊羊\"的群名片不符合「学号-姓名」格式要求。",
            "tool_calls": [
              {
                "id": "call_00_kUJLiKWEkgtgvuRbjJpOnVLE",
                "index": 0,
                "type": "function",
                "function": {
                  "name": "qq_send_message",
                  "arguments": "{\"groupId\": 1046693162, \"message\": [{\"type\": \"at\", \"data\": {\"qq\": \"1553770945\"}}, {\"type\": \"text\", \"data\": {\"text\": \"请将群名片修改为「学号-姓名」格式。\"}}]}"
                }
              }
            ],
            "extraInfo": {
              "created": 1761058594221,
              "state": "success",
              "serverName": "deepseek",
              "enableXmlWrapper": false
            }
          },
          {
            "role": "tool",
            "index": 0,
            "tool_call_id": "call_00_kUJLiKWEkgtgvuRbjJpOnVLE",
            "content": [
              {
                "type": "text",
                "text": "{\n  \"message_id\": 85898740\n}"
              }
            ],
            "extraInfo": {
              "created": 1761058594748,
              "state": "success",
              "serverName": "deepseek",
              "usage": {
                "prompt_tokens": 3137,
                "completion_tokens": 150,
                "total_tokens": 3287,
                "prompt_tokens_details": {
                  "cached_tokens": 2496
                },
                "prompt_cache_hit_tokens": 2496,
                "prompt_cache_miss_tokens": 641
              },
              "enableXmlWrapper": false
            }
          },
          {
            "role": "assistant",
            "content": "已提醒群成员\"太平羊羊\"修改群名片格式。",
            "extraInfo": {
              "created": 1761058597009,
              "state": "success",
              "serverName": "deepseek",
              "usage": {
                "prompt_tokens": 3312,
                "completion_tokens": 14,
                "total_tokens": 3326,
                "prompt_tokens_details": {
                  "cached_tokens": 3136
                },
                "prompt_cache_hit_tokens": 3136,
                "prompt_cache_miss_tokens": 176
              },
              "enableXmlWrapper": false
            }
          }
        ],
        "parallelMode": false,
        "parallelChats": [],
        "selectedModels": [],
        "settings": {
          "modelIndex": 0,
          "enableTools": [
            {
              "name": "qq_send_message",
              "description": "发送群消息",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "number",
                    "description": "群号"
                  },
                  "message": {
                    "type": "array",
                    "items": {
                      "anyOf": [
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "text"
                            },
                            "data": {
                              "type": "object",
                              "properties": {
                                "text": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "text"
                              ],
                              "additionalProperties": false
                            }
                          },
                          "required": [
                            "type",
                            "data"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "const": "at"
                            },
                            "data": {
                              "type": "object",
                              "properties": {
                                "qq": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "qq"
                              ],
                              "additionalProperties": false
                            }
                          },
                          "required": [
                            "type",
                            "data"
                          ],
                          "additionalProperties": false
                        }
                      ]
                    },
                    "description": "要发送的内容"
                  }
                },
                "required": [
                  "groupId",
                  "message"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "qq_send_image",
              "description": "发送图片",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "number",
                    "description": "群号"
                  },
                  "url": {
                    "type": "string",
                    "description": "图片的 url"
                  }
                },
                "required": [
                  "groupId",
                  "url"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "qq_get_group_info",
              "description": "获取群信息",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "number",
                    "description": "群号"
                  }
                },
                "required": [
                  "groupId"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "qq_get_group_member_list",
              "description": "获取群成员列表",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "number",
                    "description": "群号"
                  }
                },
                "required": [
                  "groupId"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "qq_get_group_member_info",
              "description": "获取群成员信息",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "number",
                    "description": "群号"
                  },
                  "user_id": {
                    "type": "number",
                    "description": "用户 QQ 号"
                  }
                },
                "required": [
                  "groupId",
                  "user_id"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "qq_upload_group_file",
              "description": "上传群文件",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "number",
                    "description": "群号"
                  },
                  "file": {
                    "type": "string",
                    "description": "文件绝对路径"
                  },
                  "name": {
                    "type": "string",
                    "description": "文件名称"
                  }
                },
                "required": [
                  "groupId",
                  "file",
                  "name"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "qq_send_group_notice",
              "description": "发送群公告",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "number",
                    "description": "群号"
                  },
                  "content": {
                    "type": "string",
                    "description": "公告内容"
                  }
                },
                "required": [
                  "groupId",
                  "content"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "qq_get_latest_messages",
              "description": "获取最近的若干条群聊消息",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "number",
                    "description": "群号"
                  },
                  "messageCount": {
                    "type": "number",
                    "description": "获取最近几条消息"
                  }
                },
                "required": [
                  "groupId",
                  "messageCount"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "util_add_memory",
              "description": "将重要信息添加到长期记忆中。当用户分享关于自己、他人、事件的重要信息时(例如:姓名、喜好、经历、关系等),应该主动使用此工具记录,以便后续对话中查询使用。",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "需要记忆的内容,每条信息应该是完整、清晰的描述"
                  },
                  "groupId": {
                    "type": "string",
                    "description": "群号，如果你不知道群号是什么，使用default"
                  },
                  "key": {
                    "type": "string",
                    "description": "记忆的唯一标识（可选）"
                  }
                },
                "required": [
                  "content",
                  "groupId"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "util_update_memory",
              "description": "更新记忆",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "groupId": {
                    "type": "string",
                    "description": "群号，如果你不知道群号是什么，使用default"
                  },
                  "key": {
                    "type": "string",
                    "description": "记忆的唯一标识"
                  },
                  "content": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "需要记忆的内容"
                  }
                },
                "required": [
                  "groupId",
                  "key",
                  "content"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "util_search_memory",
              "description": "从长期记忆中查询信息。当用户询问关于特定人物、事件、或之前对话中提到的信息时,应该首先使用此工具搜索相关记忆。例如:用户问\"XXX是谁\"、\"XXX喜欢什么\"、\"上次说的那件事\"等问题时,必须先调用此工具查询。",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "query": {
                    "type": "string",
                    "description": "搜索的关键字,可以是人名、事件名、或相关描述"
                  },
                  "groupId": {
                    "type": "string",
                    "description": "群号，如果你不知道群号是什么，使用default"
                  }
                },
                "required": [
                  "query",
                  "groupId"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            },
            {
              "name": "util_websearch",
              "description": "获取网页内容",
              "inputSchema": {
                "type": "object",
                "properties": {
                  "url": {
                    "type": "string",
                    "description": "url"
                  }
                },
                "required": [
                  "url"
                ],
                "additionalProperties": false,
                "$schema": "http://json-schema.org/draft-07/schema#"
              },
              "enabled": true
            }
          ],
          "enableWebSearch": false,
          "temperature": 0.6,
          "contextLength": 100,
          "systemPrompt": "",
          "enableXmlWrapper": false,
          "parallelToolCalls": true
        },
        "chatMode": "tool-trace"
      }
    }
  ]
}